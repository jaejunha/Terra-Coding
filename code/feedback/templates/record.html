<!-- printDir.html-->
<!DOCTYPE html>
<html lang="en">
{% load staticfiles %}
<head>
	<link rel="stylesheet" href="{% static 'css/coding/directory_list.css' %}">
	<link rel="shortcut icon" type="image/x-icon" href="{% static 'img/T-HUB.png' %}"/>

	<title>::T - HUB::</title>
	<style>

	#directName, #date{
	  text-decoration: none;
	  font-family: 'Open Sans', sans-serif;
	  font-weight: bold;
	  font-size: 1em;
	  color:#FFFFFF;
	  padding:5px 15px;
	  background:transparent;
	  border:0 none;
	  cursor:pointer;
	}

	#Compile, #Delete, #Create {
		text-decoration: none;
		font-family: 'Open Sans', sans-serif;
		font-weight: normal;
		font-size: 1em;
		color:#FFFFFF;
		padding:5px 15px;
		background:#000000;
		border:0 none;
		cursor:pointer;
	}

	#darkBut {
		text-decoration: none;
		font-family: 'Open Sans', sans-serif;
		font-weight: normal;
		font-size: 1em;
		color:#FFFFFF;
		padding:5px 15px;
		background: #555555;
		border:0 none;
		cursor:pointer;
	}

	#left{
                position: absolute;
                top: 0;
                left: 0;
                height: 100%;
                width:250px;
                margin-top:120px;

                display:inline-block;
                line-height: 1px;
        }

	#left .title{
		width: 250px;
		display:table-cell;
		vertical-align:middle;
		font-size:25pt;
		height:80px;
		text-align:center;
	}

	#left .box{
		width: 250px;
		display:table-cell;
		vertical-align:middle;
		height:50px;
		background-color: #ffffff;
	}
	
	#left .box:nth-of-type(3){
                background: rgb(228, 233, 236); 
        }
	
	#left .box div:nth-child(1){
		background-color:#555555;
		width:10px;
		height:50px;
	}

	#left .box:nth-of-type(3) div:nth-child(1){
                background-color:#555555;
                width:10px;
                height:50px;
		opacity:0;
        }

	#left .box div:nth-child(2){
		text-align:center;
		position:relative;
		width:240px;
		height:0px;
		top: -25px;
		left:10px;
	}

	#left div a{
		font-size:20pt;
		text-decoration: none;
		color:#333333;
	}

	#middle{
                position: absolute;
                width: auto;
                height: auto;
                top: 0px;
                left: 0px;
                bottom: 0px;
                right: 0px;
                margin-top:120px;
                margin-left: 250px;
		padding: 10px;
        }

	table{
		width: 80%;
		border: 2px solid #ffffff;
		border-collapse: collapse;
		background: #566788;
	}
	th, td{
		border: 2px solid #ffffff;
		padding: 10px;
	}
	th{
		background: #323c50;
		text-align: center;
		color: #ffffff;
	}
	td{
		color: #efefef;
	}
	</style>
	<script>
	var current='';
	$(window).on('hashchange', function() {
			if(location.hash != ('#'+current)){
				checkForHash();
			}
	});

	function checkForHash() {
	    if(document.location.hash){
	        var hashName = document.location.hash;
	        hashName = hashName.replace("#","");
					var res = hashName.split("&");
					var method = res[1].split("=")[1];
					if(method == '/coding/printDir'){
						view_printDir(res[0].split("=")[1],res[1].split("=")[1],res[2].split("=")[1],res[3].split("=")[1]);
					}
	    } else {
					$("#content").load('/coding/printDir');
			}
	}

	function view_printDir(op,url,dir,file){
	current = 'op='+op+'&url='+url+'&dir='+dir;
		if(op == 'categorization'){
			var sel = document.getElementById("project_attribute");
			var val = sel.options[sel.selectedIndex].value+'';
			current+='&project_attribute='+val;
			document.location.hash = "#" + current;
			$('#content').load(url,{
				dirName : dir,
				operation : op,
				project_attribute : val
			});
		}
		else{
		current+='&file='+file;
		document.location.hash = "#" + current;
			$('#content').load(url,{
				dirName : dir,
				operation : op,
				folder : file
			});
		}
	}

	function loadDiv(url) {
		$('#content').load(url);
	}

	</script>
	</head>

<body>
	<div id ="left">
		<div class="title">Feedback</div>
			<br>
			<div class="box 0">
			<div></div>
			<div>
				<a>Record</a>
			</div>
			</div>
			<br>
			<div class="box 1">
			<div></div>
                        <div>
                        	<a href="javascript:loadDiv('feedback/test');">Test</a>
                        </div>
                        </div>
			<br>
		</div>
	<div id="middle">
		<div id="project">
	<br>
	<center>
	<table class="container">
		<thead>
			<tr>
				<th>Type</th>
				<th>Name</th>
				<th>Date</th>
				<th>Function</th>
			</tr>
		</thead>
		<tr>
			<td><img style="width: 70px; height: auto;" src="{% static 'ico/upper_arrow.png' %}"></td>
			<td>
			<center><a id='directName' href="javascript:view_printDir('GoBack','/coding/printDir','{{dirName}}','../')">../</a></center>
		  </td>
			<td><center>NONE</center></td>
			<td>GO TO PARENT DIRECTORY</td>
		</tr>
		{% for info in fileInfo %}
		<tbody>
		<tr>
		 <!-- 1st column ___ type icon -->
		 <td width="5%">
				{% if info.0 == 'd' %}
	      	<img style="width: 70px; height: auto;" src="{% static 'ico/folder_ico.png' %}">
				{% elif info.0 == 'l' %}
	      	<img style="width: 70px; height: auto;" src="{% static 'ico/link_ico.png' %}">
				{% else %}
					{% if info.0 == '.py' %}
					<img style="width: 70px; height: auto;" src="{% static 'ico/py_ico.png' %}">
					{% elif info.0 == '.c' %}
					<img style="width: 70px; height: auto;" src="{% static 'ico/c_ico.png' %}">
					{% elif info.0 == '.cpp' %}
					<img style="width: 70px; height: auto;" src="{% static 'ico/cpp_ico.png' %}">
					{% elif info.0 == '.java' %}
					<img style="width: 70px; height: auto;" src="{% static 'ico/java_ico.png' %}">
					{% elif info.0 == '.h' %}
					<img style="width: 70px; height: auto;" src="{% static 'ico/header_ico.png' %}">
					{% elif info.0 == '.pyc' %}
					<img style="width: 70px; height: auto;" src="{% static 'ico/pyc_ico.png' %}">
					{% elif info.0 == '.sqlite3' %}
					<img style="width: 70px; height: auto;" src="{% static 'ico/sql_ico.png' %}">
					{% elif info.0 == '.png' %}
					<img style="width: 70px; height: auto;" src="{% static 'ico/png_ico.png' %}">
					{% elif info.0 == '.jpg' %}
					<img style="width: 70px; height: auto;" src="{% static 'ico/jpg_ico.png' %}">
					{% else %}
					<img style="width: 70px; height: auto;" src="{% static 'ico/file_ico.png' %}">
					{% endif %}
				{% endif %}
		 </td>

		<!-- 2nd column ___ FileName -->
		<td><center>
				{% if info.0 == 'd' %}
				<a id='directName' href="javascript:view_printDir('ReDirect','/coding/printDir','{{dirName}}','{{info.1}}')">{{info.1}}</a>
				{% else %}
				<a id='directName' href="javascript:view_sourceView('/coding/sourceView','{{ dirName }}','{{ info.1 }}')">{{info.1}}</a>
				{% endif %}
    </center></td>
		<!-- 3rd column ___ DATE -->
		<td>
			<center>{{ info.2 }}</center>
		</td>
		<!-- 4th column ___ Button Family -->
		<td width=8%>
			<div class="navbar">
			  <div class="dropdown">
			    <button class="dropbtn">Functions</button>
			    <div class="dropdown-content">
						{% if info.0 == '.c' or info.0 == '.py' or info.0 == '.java' or info.0 == '.cpp' %}
						<a href="javascript:view_do_compile('/coding/compile_res', 'selected', '{{info.1}}', '{{ dirName }}')">Compile & Run</a>
 					  {% elif info.0 == 'd' %}
						<a href="javascript:view_do_compile('/coding/compile_res', 'directory', '{{info.1}}', '{{ dirName }}')">Compile this project as C</a>
	  				{% endif %}
						<a href="javascript:view_renameFile('/coding/renameFile', '{{info.1}}', '{{ dirName }}')">Rename</a>
						<a href="javascript:view_sourceDel('/coding/sourceDel', '{{info.1}}', '{{ dirName }}')">Delete</a>
			    </div>
			  </div>
			</div>
		</td>
   </tr>
 	 </tbody>
	 	{% endfor %}
  </table>
</center>
</div>
</div>
</div>
</body>
</html>
