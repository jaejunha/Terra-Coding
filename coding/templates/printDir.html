<!-- printDir.html-->

<html lang="en">
{% load staticfiles %}
<head>
	<link rel="shortcut icon" type="image/x-icon" href="{% static 'img/T-HUB.png' %}"/>
	<title>::T - HUB::</title>
</head>

<body bgcolor="#F2E0F7">
	<!-- JAVASCRIPT WILL BE ADDED
	<script>
		alert(document.cookie);
	</script>
	-->
	<center>
	<form action="/terra" method="POST">
		{% csrf_token %}
		--><input type="submit" value="Go to main page"/><---
	</form>
	</center>
	<br><br>

	<!-- Most Top&Left ___ Directory Input form -->
	<center>
	<!-- Create Newfile -->
	<form action="/coding/createNewFile.html" method="POST">
		{% csrf_token %}
		<input type="hidden" name="dirName" value="{{ dirName }}"/>
		<input type="hidden" name="operation" value="file"/>
		<input type="text" placeholder="file name?" name="fileName">
		<input type="submit" value="create file" onclick="return alert(' GOOD LUCK :)');"/>
	</form>
	<br><br><br>

	<!-- Create NewFolder ===> EXTERMERLY DANGEROUS....
	<form action="/coding/createNewFile.html" method="POST">
		{% csrf_token %}
		<input type="hidden" name="dirName" value="{{ dirName }}"/>
		<input type="hidden" name="operation" value="directory"/>
		<input type="text" placeholder="dir name?" name="fileName">
		<input type="submit" value="create dir" onclick="return alert(' GOOD LUCK :)');"/>
	</form>
	<br><br><br> -->

	<!-- Go to parent directory -->
	<form action="/coding/printDir.html" method="POST">
		{% csrf_token %}
		<input type="hidden" name="operation" value="GoBack"/>
		<input type="hidden" name="dirName" value="{{ dirName }}"/>
		<input type="submit" name="GoBack" value="â–²"/>
	</form>

	<!-- Compile All C files on this Directory -->
	<form action="/coding/compile_res.html" method="POST">
		{% csrf_token %}
		<input type="hidden" name="operation" value="ALL"/>
		<input type="hidden" name="dirName" value="{{ dirName }}"/>
		<input type="hidden" name="allName" value="{{ resultOfDir }}"/>
		<!--<input type="text" placeholder="file name?" name="newFileName">-->
		<input type="submit" value="Complie this project as C"/>
	</form>

	<!-- Select project attribute -->
	<form action="/coding/printDir.html" method="POST">
		{% csrf_token %}
	<select name="project_attribute" id="project_attribute" onchange="this.form.submit()">
		<option value="Select">Select</option>
		<option value="ALL">ALL</option>
    <option value="C_Lang">C</option>
    <option value="CPP_LANG">C++</option>
    <option value="Python_Lang">Python</option>
		<input type="hidden" name="dirName" value="{{ dirName }}"/>
		<input type="hidden" name="operation" value="categorization"/>
	</select>
	</form>
	</center>

	{% for info in fileInfo %}
	<table width="60%" align="center" border="5" cellpadding="0" cellspacing="0">
	 <tr>
		 <!-- 1st column ___ type icon -->
		 <td width=5% align="center">
			 <center>
				{% if info.0 == 'd' %}
	      	<img style="vertical-align: bottom;" src="{% static 'ico/folder_ico.png' %}" width="100%" height="100%">
				{% elif info.0 == 'l' %}
	      	<img style="display:block;" src="{% static 'ico/link_ico.png' %}" width="100%" height="100%">
				{% else %}
					{% if info.0 == '.py' %}
					<img style="display:block;" src="{% static 'ico/py_ico.png' %}" width="100%" height="100%">
					{% elif info.0 == '.c' %}
					<img style="display:block;" src="{% static 'ico/c_ico.png' %}" width="100%" height="100%">
					{% elif info.0 == '.cpp' %}
					<img style="display:block;" src="{% static 'ico/cpp_ico.png' %}" width="100%" height="100%">
					{% elif info.0 == '.h' %}
					<img style="display:block;" src="{% static 'ico/header_ico.jpg' %}" width="100%" height="100%">
					{% elif info.0 == '.pyc' %}
					<img style="display:block;" src="{% static 'ico/pyc_ico.png' %}" width="100%" height="100%">
					{% elif info.0 == '.sqlite3' %}
					<img style="display:block;" src="{% static 'ico/sql_ico.png' %}" width="100%" height="100%">
					{% elif info.0 == '.png' %}
					<img style="display:block;" src="{% static 'ico/png_ico.jpg' %}" width="100%" height="100%">
					{% elif info.0 == '.jpg' %}
					<img style="display:block;" src="{% static 'ico/jpg_ico.png' %}" width="100%" height="100%">
					{% else %}
					<img style="display:block;" src="{% static 'ico/file_ico.png' %}" width="100%" height="100%">
					{% endif %}
				{% endif %}
			</center>
		 </td>

		<!-- 2nd column ___ FileName -->
		<td>
				{% if info.0 == 'd' %}
				<form action="/coding/printDir.html" method="POST">
					{% csrf_token %}
					<input type="hidden" name="operation" value="ReDirect"/>
					<input type="hidden" name="dirName" value="{{ dirName }}"/>
					<input type="submit" name="folder" value="{{ info.1 }}"/>
				</form>
				{% else %}
				<form action="/coding/sourceView.html" method="POST">
					{% csrf_token %}
					<input type="submit" name="fileName" value="{{ info.1 }}"/>
					<input type="hidden" name="directoryName" value="{{ dirName }}"/>
				</form>
				{% endif %}
    </td>

		<!-- 3rd column ___ Button Family -->
		<td width=30%>
			<table align="center" border="0" cellpadding="0" cellspacing="0">
			<!-- Redirect to sourceDel -->
			<tr>
			<form action="/coding/sourceDel.html" method="POST">
				{% csrf_token %}
				<input type="hidden" name="selected_file" value="{{ info.1 }}"/>
				<input type="hidden" name="dirName" value="{{ dirName }}"/>
				<input type="submit" name="del" value="del" onclick="return confirm('Are you very very sure you want to delete? :)');"/>
			</form>
			</tr>
			<tr>
		 <!-- Redirect to a single unit complie -->
		 {% if info.0 == '.c' or info.0 == '.py' or info.0 == '.java' or info.0 == '.cpp' %}
		 <form action="/coding/compile_res.html" method="POST">
			 {% csrf_token %}
			 <input type="hidden" name="operation" value="selected"/>
			 <input type="hidden" name="fileName" value="{{ info.1 }}"/>
			 <input type="hidden" name="dirName" value="{{ dirName }}"/>
			 <input type="submit" name="compile" value="compile"/>
		 </form>
		 </tr>
		 {% endif %}
		</table>
		</td>
   </tr>
  </table>
	{% endfor %}

</body>
</html>
